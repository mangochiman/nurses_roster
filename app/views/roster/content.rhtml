<html>
  <head>
    <title></title>
    <%= javascript_include_tag "cookies"%>
    <script>
      var roster_menu = "<%= @roster_menu %>";
      var nurses_menu = "<%= @nurses_menu %>";
      var users_menu = "<%= @users_menu %>";
      var settings_menu = "<%= @settings_menu %>";
      var extra_settings_menu = "<%= @extra_settings_menu %>";
      
      function loadRosterData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @roster_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              html+="<td>";
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadNursesData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @nurses_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              html+="<td>";
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadUsersData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @users_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              html+="<td>";
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadSettingsData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @settings_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              <% if caption.match(/Extra Settings/i) %>
                html+="<td onclick='load_extra_settings_menu(this)'>";
              <% else %>
                html+="<td>";
              <% end %>
              
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadHomeData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        inner_content.innerHTML="";
      }

      function load_extra_settings_menu(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @extra_settings_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              html+="<td>";
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }
      
      function setActiveTab(obj){
        class_name = obj.getAttribute("class");
        createCookie("active-tab", class_name, 1);
        active_tab = readCookie('active-tab');
        if (active_tab){
          element = document.getElementsByClassName(active_tab)[0];
          atab = document.getElementById('active_tab');
          if (atab){
            atab.removeAttribute('id');
          }
          element.setAttribute("id", 'active_tab');
        }

      }

      function loadActiveTab(){
        active_tab = readCookie('active-tab');
        if (active_tab){
          element = document.getElementsByClassName(active_tab)[0];
          load_function = element.getAttribute('onclick');
          
          atab = document.getElementById('active_tab');
          if (atab){
            atab.removeAttribute('id');
          }
          element.setAttribute("id", 'active_tab');
          eval(load_function);
        }

      }
    </script>
    <style>
      #content{

      }

      #header{
        position: absolute;
        top: 5%;
        border-width: 100%;
      }
      #footer{
        position: absolute;
        bottom: 0%;
        height: 43px;
        width: 100%;
        left: 0%;
        background: url("../images/footer.gif") repeat-x scroll center top black;
        padding: 30px 0 0;
      }
      #horizontal_line{
        position: absolute;
        height: 0%;
        left: 0%;
        top: 10%;
        width: 100%;
        border-bottom: 1px solid green;
      }
 
      .app_name{
        font-size: 20px;
        font-weight: bold;
        margin: 0 0 15px;
        padding: 2px 0 10px;
        color: #336699;
        text-indent: 0;
        margin-left: 68%;
        top: 5%;
      }
      body {
        background-color: #82EFFF;
        background-image: url("images/bg.jpg");
        background-repeat: repeat-x;
        margin: 0;
      }
      #content{
        position: absolute;
        width: 70%;
        clear: both;
        border-left: 2px solid black;
        border-right: 2px solid black;
        margin-left: 15%;
        height: 100%;
        background-color: white;
      }


      #logout{
        position: absolute;
        background: url("../images/four.gif") repeat-x scroll 0 0 #3C3C3C;
        border-radius: 8px 8px 8px 8px;
        color: #FEFEFE;
        display: inline-block;
        font-size: 19px;
        letter-spacing: -1px;
        line-height: 1.5em;
        padding: 9px 20px 11px;
        right: 2%;
        margin-top: -2%;
        z-index: 1;
      }

      #menu{
        -moz-user-select: none;
        margin-top: 1%;
        margin-left: 60%;
      
      }
      #active_tab{
        border-bottom: 4px solid green;
      }
      .roster, .nurses, .users, .settings, .home{
        cursor:  pointer;
        font: small-caps 18px Georgia, sans-serif;

      }

      #inner_content{
        margin-top: 10%;
        margin-left: 10%;
      }

      .icon{
        cursor: pointer;
      }
      .caption{
         cursor: pointer;
      }
    </style>
  </head>
  <body onload="loadActiveTab();">
    <div id="content">
      <div id="header">
        <div id="menu">
          <span class="roster" onclick="loadRosterData(this);" onmousedown="setActiveTab(this)">Roster </span>|
          <span class="nurses" onclick="loadNursesData(this)" onmousedown="setActiveTab(this)">Nurses </span>|
          <span class="users" onclick="loadUsersData(this)" onmousedown="setActiveTab(this)">Users </span>|
          <span class="settings" onclick="loadSettingsData(this)" onmousedown="setActiveTab(this)">Settings </span>|
          <span class="home" onclick="loadHomeData(this)" onmousedown="setActiveTab(this)">Home</span>
        </div>
      </div>
      <!--<div class="app_name">
          <span>Nurses Roster System(NRS)</span>
      </div>-->
      <div id="horizontal_line">
      </div>
      <div id="inner_content">
        
      </div>
      <div id="footer">
        <div id="logout">
          <span>logout</span>
        </div>
      </div>
    </div>
  </body>
</html>