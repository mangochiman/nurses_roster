<html>
  <head>
    <title></title>
    <%= javascript_include_tag "cookies"%>
    <%= javascript_include_tag "jquery"%>
    <%= javascript_include_tag "jquery-1.10.2"%>
    <%= javascript_include_tag "jquery-ui"%>
    <%= stylesheet_link_tag "jquery-ui"%>

    <script>
      var roster_menu = "<%= @roster_menu %>";
      var nurses_menu = "<%= @nurses_menu %>";
      var users_menu = "<%= @users_menu %>";
      var settings_menu = "<%= @settings_menu %>";
      var extra_settings_menu = "<%= @extra_settings_menu %>";
      var old_zindex_value = $('#shield_two').css('z-index');
      var changes = {}
      var mode = 'set'
      function loadRosterData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @roster_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              <% if caption.match(/Create Roster/i) %>
                html+="<td onclick='createRoster();'>";
              <% elsif caption.match(/View Roster/i) %>
                html+="<td onclick='viewRoster();'>";
              <% elsif caption.match(/Edit Roster/i) %>
                html+="<td onclick='viewRosterToBeEdited();'>";
              <% else %>
                html+="<td>";
              <% end %>
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadNursesData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @nurses_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>

              <% if caption.match(/New Nurse/i) %>
                html+="<td onclick='createNewNurse();'>";
              <% elsif caption.match(/Edit Nurse/i) %>
                html+="<td onclick='editNurseMenu(); searchNurses()'>";
              <% elsif caption.match(/Import from CSV/i) %>
                html+="<td onclick='importFromCSVmenu();'>";
              <% elsif caption.match(/Delete Nurse/i) %>
                html+="<td onclick='deleteNurseMenu(); addDeleteNurseContent();'>";
              <% elsif caption.match(/View Nurses/i) %>
                html+="<td onclick='viewNurseMenu(); addViewNursesContent();'>";
              <% else %>
                html+="<td>";
              <% end %>
              
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadUsersData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @users_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              <% if caption.match(/New User/i) %>
                html+="<td onclick='createNewUser();'>";
              <% elsif caption.match(/Edit User/i) %>
                html+="<td onclick='editUserMenu();'>";
              <% elsif caption.match(/Delete User/i) %>
                html+="<td onclick='deleteUserMenu();'>";
              <% elsif caption.match(/Block User/i) %>
                html+="<td onclick='blockUserMenu();'>";
              <% else %>
                html+="<td>";
              <% end %>
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadSettingsData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @settings_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              <% if caption.match(/Extra Settings/i) %>
                html+="<td onclick='load_extra_settings_menu(this)'>";
              <% else %>
                html+="<td>";
              <% end %>
              
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }

      function loadHomeData(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        inner_content.innerHTML="";
      }

      function load_extra_settings_menu(obj){
        //setActiveTab(obj);
        var inner_content = document.getElementById('inner_content');
        html = "<table>";
        <%  @extra_settings_menu.in_groups_of(4).each do |row| %>
            html+="<tr>";
            <% row.each do |caption, image| %>
              <%  next if caption.nil? %>
              <%  next if image.nil? %>
              html+="<td>";
              html+='<%= image_tag("icons/#{image}", :class=>'icon') %>';
              html+="<br />"
              html+="<center><span class='caption'><%=  caption %></span></center"
              html+="</td>";
              html+="<td style='min-width:70px;'>";
              html+="</td>";
            <% end %>
            html+="</tr>";
            html+="<tr style='height: 4em;'>";
            html+="</tr>";
        <% end %>
          html += "</table>";
          inner_content.innerHTML=html;
      }
      
      function setActiveTab(obj){
        class_name = obj.getAttribute("class");
        createCookie("active-tab", class_name, 1);
        active_tab = readCookie('active-tab');
        if (active_tab){
          element = document.getElementsByClassName(active_tab)[0];
          atab = document.getElementById('active_tab');
          if (atab){
            atab.removeAttribute('id');
          }
          element.setAttribute("id", 'active_tab');
        }

      }

      function loadActiveTab(){
        active_tab = readCookie('active-tab');
        if (active_tab){
          element = document.getElementsByClassName(active_tab)[0];
          load_function = element.getAttribute('onclick');
          
          atab = document.getElementById('active_tab');
          if (atab){
            atab.removeAttribute('id');
          }
          element.setAttribute("id", 'active_tab');
          eval(load_function);
        }
        else{
          element = document.getElementsByClassName("home")[0];
          load_function = element.getAttribute('onclick');

          atab = document.getElementById('active_tab');
          if (atab){
            atab.removeAttribute('id');
          }
          element.setAttribute("id", 'active_tab');
          eval(load_function);
        }
      }

      function createRoster(){
        var inner_content = document.getElementById('inner_content');
        document.getElementById('shield').style.display='inline';
        html = "<div id='create_roster_menu'>";
        
        html+= "<div id='create_roster_header'>";
        html+="<span style='position:absolute; top:4%; left:14%; top:30%;'>Create Roster</span>";
        html+="</div>";

        html+= "<div id='create_roster_content'>";
        html+="<table style='margin-left: 8%; margin-top: 1%; width:80%;'>"
        html+="<tr><td><span id='input_label'>Start Date</span></td><td><input type='text'  id='start_date' onmousedown='loadDatePicker();'></input></td></tr>";
        html+="<tr style='height:1em;'></tr>"
        html+="<tr><td><span id='input_label'>End Date</span></td><td><input type='text' id='end_date' onmousedown='loadDatePicker();'></input></td></tr>";
        html+="</table>"
        html+="</div>";
        
        html+= "<div id='create_roster_footer'>";
        html+="<span id='okay_button' onclick='generateRoster();'>Okay</span>";
        html+="<span onclick='hideCreateRosterPopup();' id='cancel_button'>Cancel</span>";
        html+="</div>";
        
        html+="</div>";
        inner_content.innerHTML+=html
      }

      function hideCreateRosterPopup(){
        create_roster_menu = document.getElementById('create_roster_menu')
        create_roster_menu.parentNode.removeChild(create_roster_menu);
        document.getElementById('shield').style.display='none';
      }

      function hideCreateNursePopup(){
        create_nurse_menu = document.getElementById('create_nurse_menu')
        create_nurse_menu.parentNode.removeChild(create_nurse_menu);
        document.getElementById('shield').style.display='none';
      }

      function hideCreateCSVPopup(){
        create_csv_menu = document.getElementById('create_csv_menu')
        create_csv_menu.parentNode.removeChild(create_csv_menu);
        document.getElementById('shield').style.display='none';
      }

      function hideCreateUserPopup(){
        create_user_menu = document.getElementById('create_user_menu')
        create_user_menu.parentNode.removeChild(create_user_menu);
        document.getElementById('shield').style.display='none';
      }
      
      function loadDatePicker(){
        $( "#start_date" ).datepicker();
        $( "#end_date" ).datepicker();
      }
     function createNewNurse(){
        var inner_content = document.getElementById('inner_content');
        document.getElementById('shield').style.display='inline';
        html = "<form><div id='create_nurse_menu'>";
        
        html+= "<div id='create_nurse_header'>";
        html+="<span style='position:absolute; left:20%; top:32%;'>Create new nurse</span>";
        html+="</div>";

        html+= "<div id='create_nurse_content'>";
        html+="<table style='margin-left: 20%; margin-top: 8%; width:80%;'>";
        html+="<tr><td>Employee #</td><td><input type='text' id='employee_number' employee_number'/></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>First Name</td> <td><input type='text' id='first_name' name='first_name'/></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>Last Name</td> <td><input type='text' id='last_name' name='last_name'/></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>Gender</td><td><select id='gender'><option><%= '-' * 20 %>Please Select Gender<%= '-' * 20 %></option><option>Male</option><option>Female</option></select></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>Grade</td><td><select id='grade'><option><%= '-' * 20 %>Please Select Grade<%= '-' * 20 %></option><option>A</option><option>B</option><option>C</option><option>D</option></select></td></tr>";
        html+="</table>"
        html+="</div>";

        html+= "<div id='create_nurse_footer'>";
        html+="<span id='save' onclick='submitNewNurseForm();'>Save</span> <span id='cancel' onclick='hideCreateNursePopup();'>Cancel</span>";
        html+="</div>";

        html+="</div></form>";
        inner_content.innerHTML+=html
     }

     function editNurseMenu(){
        var inner_content = document.getElementById('inner_content');
        html = "<div id='edit_nurse_menu'>";
          html+= "<div id='left_div'>";
              html+="<table style='position:absolute; width:100%; margin-left:1%;'>";
              html+="<tr><td style='width:40%;'><span><input onkeyup='searchNurses(this);' placeholder= 'Filter contacts' name='search' type='text' id='search_input'/><img onclick='document.getElementById(\"search_input\").value=\"\"; searchNurses();' src='/images/icons/clear_02.png' id='clear_image'/></span></td></tr>"
              html+="</table>"
          html+="</div>";
          html+= "<div id='content_header'>";
            html+="<span>Edit nurse</span>";
          html+="</div>";
          html+="<div id='edit_nurse_content'>";
          html+="</div>";
          html+="<div style='display:none;' id='found_results_info'>";
          html+="</div>";
          html+="<div id='nurse_details'>";
          html+="</div>";
        html+="</div>";
        inner_content.innerHTML=html
     }

     function addEditNurseContent(){
       if (document.getElementById('edit_nurse_content')){
         edit_nurse_content = document.getElementById('edit_nurse_content');
         jQuery.ajax({
            type: "POST",
            url: "/nurses/display_all",
            data: "",
            success: function(result){
              html = "<div style='position:absolute; overflow:auto; height: 75%; top:15%; width: 40%;'>";
              html+="<table cellspacing='0' style='position:absolute; width:100%;'>"
              for (var nurse_id in result) {              
                  first_name = result[nurse_id]["first_name"];
                  last_name = result[nurse_id]["last_name"];
                  gender = result[nurse_id]["gender"];
                  grade = result[nurse_id]["grade"];
                  date_created = result[nurse_id]["date_created"];
                  icon = (gender.toUpperCase() == 'MALE')?'male_nurse_64.png':'nurse_64.png';
                  html+="<tr onmousedown='setActiveRow(this); showNurseDetails(this);' onmouseover='changeBackgroundColor(this);'";
                  html+="id=" + nurse_id + " ";
                  html+="first_name=" + first_name + " last_name=" + last_name + " gender=" + gender + " grade=" + grade + " date_created=" + date_created + " "
                  html+="onmouseout='resetBackgroundColor(this);' class='table_row' style='height: 1em !important; border-bottom: 1px solid gray;'><td>"
                  html+="<img style='width:30%;' src='/images/icons/" + icon + "'/></td>"
                  html+="<td><span>" + first_name + '</span></td><td><span> ' + last_name + "<span></td></tr>";
                }
                html += "</table></div>";
                edit_nurse_content.innerHTML= html;
              }
          });
       }
     }

     function addDeleteNurseContent(){
       if (document.getElementById('delete_nurse_content')){
         edit_nurse_content = document.getElementById('delete_nurse_content');
         jQuery.ajax({
            type: "POST",
            url: "/nurses/display_all",
            data: "",
            success: function(result){
              html = "<div style='position:absolute; overflow:auto; height: 75%; top:15%; width: 40%;'>";
              html+="<table cellspacing='0' style='position:absolute; width:100%;'>"
              for (var nurse_id in result) {
                  first_name = result[nurse_id]["first_name"];
                  last_name = result[nurse_id]["last_name"];
                  gender = result[nurse_id]["gender"];
                  grade = result[nurse_id]["grade"];
                  date_created = result[nurse_id]["date_created"];
                  icon = (gender.toUpperCase() == 'MALE')?'male_nurse_64.png':'nurse_64.png';
                  html+="<tr onmousedown='setActiveRow(this); showNurseDetailsToBeDeleted(this);' onmouseover='changeBackgroundColor(this);'";
                  html+="id=" + nurse_id + " ";
                  html+="first_name=" + first_name + " last_name=" + last_name + " gender=" + gender + " grade=" + grade + " date_created=" + date_created + " "
                  html+="onmouseout='resetBackgroundColor(this);' class='table_row' style='height: 1em !important; border-bottom: 1px solid gray;'><td>"
                  html+="<img style='width:30%;' src='/images/icons/" + icon + "'/></td>"
                  html+="<td><span>" + first_name + '</span></td><td><span> ' + last_name + "<span></td></tr>";
                }
                html += "</table></div>";
                edit_nurse_content.innerHTML= html;
              }
          });
       }
     }

     function searchNursesToBeViewed(obj){
       value = ""
       if ((typeof obj) != 'undefined'){
         if (obj.value){
              value = obj.value
         }
       }
      if (document.getElementById('view_nurse_content')){
         view_nurse_content = document.getElementById('view_nurse_content');
         jQuery.ajax({
            type: "POST",
            url: "/nurses/search_nurses",
            data: "value=" + value,
            success: function(result){
              html = "<div style='position:absolute; overflow:auto; height: 75%; top:15%; width: 40%;'>";
              html+="<table cellspacing='0' style='position:absolute; width:100%;'>"
              total_results = 0;
              for (var nurse_id in result) {
                    total_results+=1;
                    first_name = result[nurse_id]["first_name"];
                    last_name = result[nurse_id]["last_name"];
                    gender = result[nurse_id]["gender"];
                    grade = result[nurse_id]["grade"];
                    date_created = result[nurse_id]["date_created"];
                    icon = (gender.toUpperCase() == 'MALE')?'male_nurse_64.png':'nurse_64.png';
                    html+="<tr onmousedown='setActiveRow(this); showNurseDetailsToBeViewed(this);' onmouseover='changeBackgroundColor(this);'";
                    html+="id=" + nurse_id + " ";
                    html+="first_name=" + first_name + " last_name=" + last_name + " gender=" + gender + " grade=" + grade + " date_created=" + date_created + " "
                    html+="onmouseout='resetBackgroundColor(this);' class='table_row' style='height: 1em !important; border-bottom: 1px solid gray;'><td>"
                    html+="<img style='width:30%;' src='/images/icons/" + icon + "'/></td>"
                    html+="<td><span>" + first_name + '</span></td><td><span> ' + last_name + "<span></td></tr>";
                }
                html += "</table></div>";
                view_nurse_content.innerHTML= html;
                if (document.getElementById('found_results_info')){
                  contacts = (total_results == 1)?'contact':'contacts';
                  found_results_info = document.getElementById('found_results_info');
                  found_results_info.style.display='inline'
                  found_results_info.innerHTML="<span> Displaying " +  total_results + ' ' + contacts + "</span>"
                }
              }
          });
       }
     }

     function viewNurseMenu(){
        inner_content = document.getElementById('inner_content');
        html = "<div id='view_nurse_menu'>";
          html+= "<div id='left_div'>";
              html+="<table style='position:absolute; width:100%; margin-left:1%;'>";
              html+="<tr><td style='width:40%;'><span><input onkeyup='searchNursesToBeViewed(this);' placeholder= 'Filter contacts' name='search' type='text' id='search_input'/><img onclick='document.getElementById(\"search_input\").value=\"\"; searchNurses();' src='/images/icons/clear_02.png' id='clear_image'/></span></td></tr>"
              html+="</table>"
          html+="</div>";
          html+= "<div id='content_header'>";
            html+="<span>View nurses</span>";
          html+="</div>";
          html+="<div id='view_nurse_content'>";
          html+="</div>";
          html+="<div style='display:none;' id='found_results_info'>";
          html+="</div>";
          html+="<div id='nurse_details'>";
          html+="</div>";
           html+="<span style='position: fixed; right:15.5%; top:19%; z-index: 1;'>Filter <input id='filter_nurses' type='text' placeholder='First or Last name or combine' onkeyup='viewAllNurses(this);'></input></span>";
           html+="<span style='position:fixed; right: 18%; top:18.5%; z-index: 1;'><img onclick='document.getElementById(\"filter_nurses\").value=\"\"; viewAllNurses();' src='/images/icons/clear_02.png' id='clear_image'/></span>"
          html+="<div id='view_all'>"
          html+="<span onclick='viewAllNurses();'>View all</span"
          html+="</div>";
          
        html+="</div>";
        inner_content.innerHTML=html
     }

     function addViewNursesContent(){
       if (document.getElementById('view_nurse_content')){
         view_nurse_content = document.getElementById('view_nurse_content');
         jQuery.ajax({
            type: "POST",
            url: "/nurses/display_all",
            data: "",
            success: function(result){
              html = "<div style='position:absolute; overflow:auto; height: 75%; top:15%; width: 40%;'>";
              html+="<table cellspacing='0' style='position:absolute; width:100%;'>"
              for (var nurse_id in result) {
                  first_name = result[nurse_id]["first_name"];
                  last_name = result[nurse_id]["last_name"];
                  gender = result[nurse_id]["gender"];
                  grade = result[nurse_id]["grade"];
                  date_created = result[nurse_id]["date_created"];
                  icon = (gender.toUpperCase() == 'MALE')?'male_nurse_64.png':'nurse_64.png';
                  html+="<tr onmousedown='setActiveRow(this); showNurseDetailsToBeViewed(this);' onmouseover='changeBackgroundColor(this);'";
                  html+="id=" + nurse_id + " ";
                  html+="first_name=" + first_name + " last_name=" + last_name + " gender=" + gender + " grade=" + grade + " date_created=" + date_created + " "
                  html+="onmouseout='resetBackgroundColor(this);' class='table_row' style='height: 1em !important; border-bottom: 1px solid gray;'><td>"
                  html+="<img style='width:30%;' src='/images/icons/" + icon + "'/></td>"
                  html+="<td><span>" + first_name + '</span></td><td><span> ' + last_name + "<span></td></tr>";
                }
                html += "</table></div>";
                view_nurse_content.innerHTML= html;
              }
          });
       }
     }

     function viewAllNurses(obj){
      value = ""
       if ((typeof obj) != 'undefined'){
         if (obj.value){
              value = obj.value
         }
       }
      if (document.getElementById('nurse_details')){
         nurse_details = document.getElementById('nurse_details');
         jQuery.ajax({
            type: "POST",
            url: "/nurses/search_nurses",
            data: "value=" + value,
            success: function(result){
              html = "<div style='position:absolute; overflow:auto; height: 75%; top:8%; width: 100%;'>";
              html+="<table cellspacing='0' style='position:absolute; width:100%;'>"

              html+="<tr class='view_all_header' style='line-height: 2.5em; background-color:#FFE7BA;'>";
                html+="<td><span>First Name</span></td>";
                html+="<td><span>Last Name</span></td>";
                html+="<td><span>Gender</span></td>";
                html+="<td><span>Grade</span></td>";
                html+="<td><span>Date Created</span></td>";
              html+="</tr>";
              
              for (var nurse_id in result) {
                    first_name = result[nurse_id]["first_name"];
                    last_name = result[nurse_id]["last_name"];
                    gender = result[nurse_id]["gender"];
                    grade = result[nurse_id]["grade"];
                    date_created = result[nurse_id]["date_created"];
                    html+="<tr class='view_all' style='line-height: 1.5em;'>";
                        html+="<td style='border-right: 2px solid #9ACD32'><span><center>" + first_name + "</center></span></td>";
                        html+="<td style='border-right: 2px solid #9ACD32'><span><center>" + last_name +  "</center></span></td>";
                        html+="<td style='border-right: 2px solid #9ACD32'><span><center>" + gender[0] + "</center></span></td>";
                        html+="<td style='border-right: 2px solid #9ACD32'><span><center>" + grade + "</center></span></td>";
                        html+="<td><span><center>" + date_created + "</center></span></td>";
                    html+="</tr>";
                }

                html += "</table></div>";
                nurse_details.innerHTML= html;
              }
          });
       }
     }

      function showNurseDetailsToBeViewed(obj){
        nurse_details = document.getElementById('nurse_details');
        nurse_id = obj.id;
        first_name = obj.getAttribute("first_name");
        last_name = obj.getAttribute("last_name");
        gender = obj.getAttribute("gender");
        grade = obj.getAttribute("grade");
        date_created = obj.getAttribute("date_created");
        html = "";
        html+="<div>";
          html+="<table style='position:absolute; width:80%; top:15%;'>";
            html+="<tr>";
              if (gender.match(/female/i)){
                html+="<td rowspan='10'><span><img src='/images/icons/nurse_02.png'/></span></td>";
              }
              else {
                html+="<td rowspan='10'><span><img src='/images/icons/nurse_03.png'/></span></td>";
              }
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>First Name</span></td>";
              html+="<td id='nurse_first_name_edit' nurse_id=" + nurse_id + "><span><b>" + first_name + "</b></span></td>";

            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Last Name</span></td>";
              html+="<td id='nurse_last_name_edit' nurse_id=" + nurse_id + "><span><b>" + last_name + "</b></span></td>";

            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Gender</span></td>";
              html+="<td nurse_id=" + nurse_id + "><span><b>" + gender + "</b></span></td>";

            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Grade</span></td>";
              html+="<td nurse_id=" + nurse_id + "><span><b>" + grade + "</b></span></td>";

            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Date created</span></td>";
              html+="<td><span><b>" + date_created + "</b></span></td>";
              html+="<td><span>&nbsp;</span></td>";
            html+="</tr>";
   
          html+="</table>";
        html+="</div>"
        nurse_details.innerHTML=html;       
     }
     
     function changeBackgroundColor(obj){
      obj.style.backgroundColor='#F0FFFF'
     }

     function resetBackgroundColor(obj){
      obj.style.backgroundColor=''
     }

     function setActiveRow(obj){
       if (document.getElementsByClassName('active_row')){
          element = document.getElementsByClassName('active_row')[0];
          if (element) element.classList.remove("active_row");
       }
       obj.classList.add("active_row");
     }

     function searchNurses(obj){
       value = ""
       if ((typeof obj) != 'undefined'){
         if (obj.value){
              value = obj.value
         }
       }
      if (document.getElementById('edit_nurse_content')){
         edit_nurse_content = document.getElementById('edit_nurse_content');
         names = []
         jQuery.ajax({
            type: "POST",
            url: "/nurses/search_nurses",
            data: "value=" + value,
            success: function(result){
              html = "<div style='position:absolute; overflow:auto; height: 75%; top:15%; width: 40%;'>";
              html+="<table cellspacing='0' style='position:absolute; width:100%;'>"
              total_results = 0;
              for (var nurse_id in result) {
                    total_results+=1;
                    first_name = result[nurse_id]["first_name"];
                    last_name = result[nurse_id]["last_name"];
                    gender = result[nurse_id]["gender"];
                    grade = result[nurse_id]["grade"];
                    date_created = result[nurse_id]["date_created"];
                    icon = (gender.toUpperCase() == 'MALE')?'male_nurse_64.png':'nurse_64.png';
                    html+="<tr onmousedown='setActiveRow(this); showNurseDetails(this);' onmouseover='changeBackgroundColor(this);'";
                    html+="id=" + nurse_id + " ";
                    html+="first_name=" + first_name + " last_name=" + last_name + " gender=" + gender + " grade=" + grade + " date_created=" + date_created + " "
                    html+="onmouseout='resetBackgroundColor(this);' class='table_row' style='height: 1em !important; border-bottom: 1px solid gray;'><td>"
                    html+="<img style='width:30%;' src='/images/icons/" + icon + "'/></td>"
                    html+="<td><span>" + first_name + '</span></td><td><span> ' + last_name + "<span></td></tr>";    
                }
                html += "</table></div>";
                edit_nurse_content.innerHTML= html;
                if (document.getElementById('found_results_info')){
                  contacts = (total_results == 1)?'contact':'contacts';
                  found_results_info = document.getElementById('found_results_info');
                  found_results_info.style.display='inline'
                  found_results_info.innerHTML="<span> Displaying " +  total_results + ' ' + contacts + "</span>"
                }
              }
          });
       }
     }

     function searchNursesToBeDeleted(obj){
       value = ""
       if ((typeof obj) != 'undefined'){
         if (obj.value){
              value = obj.value
         }
       }
      if (document.getElementById('delete_nurse_content')){
         delete_nurse_content = document.getElementById('delete_nurse_content');
         jQuery.ajax({
            type: "POST",
            url: "/nurses/search_nurses",
            data: "value=" + value,
            success: function(result){
              html = "<div style='position:absolute; overflow:auto; height: 75%; top:15%; width: 40%;'>";
              html+="<table cellspacing='0' style='position:absolute; width:100%;'>"
              total_results = 0;
              for (var nurse_id in result) {
                    total_results+=1;
                    first_name = result[nurse_id]["first_name"];
                    last_name = result[nurse_id]["last_name"];
                    gender = result[nurse_id]["gender"];
                    grade = result[nurse_id]["grade"];
                    date_created = result[nurse_id]["date_created"];
                    icon = (gender.toUpperCase() == 'MALE')?'male_nurse_64.png':'nurse_64.png';
                    html+="<tr onmousedown='setActiveRow(this); showNurseDetailsToBeDeleted(this);' onmouseover='changeBackgroundColor(this);'";
                    html+="id=" + nurse_id + " ";
                    html+="first_name=" + first_name + " last_name=" + last_name + " gender=" + gender + " grade=" + grade + " date_created=" + date_created + " "
                    html+="onmouseout='resetBackgroundColor(this);' class='table_row' style='height: 1em !important; border-bottom: 1px solid gray;'><td>"
                    html+="<img style='width:30%;' src='/images/icons/" + icon + "'/></td>"
                    html+="<td><span>" + first_name + '</span></td><td><span> ' + last_name + "<span></td></tr>";
                }
                html += "</table></div>";
                delete_nurse_content.innerHTML= html;
                if (document.getElementById('found_results_info')){
                  contacts = (total_results == 1)?'contact':'contacts';
                  found_results_info = document.getElementById('found_results_info');
                  found_results_info.style.display='inline'
                  found_results_info.innerHTML="<span> Displaying " +  total_results + ' ' + contacts + "</span>"
                }
              }
          });
       }
     }
     
     function showNurseDetails(obj){
        nurse_details = document.getElementById('nurse_details');
        nurse_id = obj.id;
        first_name = obj.getAttribute("first_name");
        last_name = obj.getAttribute("last_name");
        gender = obj.getAttribute("gender");
        grade = obj.getAttribute("grade");
        date_created = obj.getAttribute("date_created");
        html = "";
        html+="<div>";
          html+="<table style='position:absolute; width:80%; top:15%;'>";
            html+="<tr>";
              if (gender.match(/female/i)){
                html+="<td rowspan='10'><span><img src='/images/icons/nurse_02.png'/></span></td>";
              }
              else {
                html+="<td rowspan='10'><span><img src='/images/icons/nurse_03.png'/></span></td>";
              }
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>First Name</span></td>";
              html+="<td id='nurse_first_name_edit' nurse_id=" + nurse_id + "><span><b>" + first_name + "</b></span></td>";
              html+="<td id='edit_button'><span onclick='editNurseFirstName();'>Edit</span></td>";
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='3'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Last Name</span></td>";
              html+="<td id='nurse_last_name_edit' nurse_id=" + nurse_id + "><span><b>" + last_name + "</b></span></td>";
              html+="<td id='edit_button'><span onclick='editNurseLastName();'>Edit</span></td>";
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='3'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Gender</span></td>";
              html+="<td nurse_id=" + nurse_id + "><span><b>" + gender + "</b></span></td>";
              html+="<td id='edit_button'><span onclick='editNurseGender();'>Edit</span></td>";
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='3'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Grade</span></td>";
              html+="<td nurse_id=" + nurse_id + "><span><b>" + grade + "</b></span></td>";
              html+="<td id='edit_button'><span onclick='editNurseGrade();'>Edit</span></td>";
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='3'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Date created</span></td>";
              html+="<td><span><b>" + date_created + "</b></span></td>";
              html+="<td><span>&nbsp;</span></td>";
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='3' id='save_edited_button' onclick='saveNurseEditedDetails();'><span>Save</span></td>";
            html+="</tr>";
          html+="</table>";
        html+="</div>"
        nurse_details.innerHTML=html;
        console.log(first_name + '--' + last_name + '--' + gender + '--' + grade + '--' + date_created);
     }

     function showNurseDetailsToBeDeleted(obj){
        nurse_details = document.getElementById('nurse_details');
        nurse_id = obj.id;
        first_name = obj.getAttribute("first_name");
        last_name = obj.getAttribute("last_name");
        gender = obj.getAttribute("gender");
        grade = obj.getAttribute("grade");
        date_created = obj.getAttribute("date_created");
        html = "";
        html+="<div>";
          html+="<table style='position:absolute; width:80%; top:15%;'>";
            html+="<tr>";
              if (gender.match(/female/i)){
                html+="<td rowspan='10'><span><img src='/images/icons/nurse_02.png'/></span></td>";
              }
              else {
                html+="<td rowspan='10'><span><img src='/images/icons/nurse_03.png'/></span></td>";
              }
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>First Name</span></td>";
              html+="<td id='nurse_first_name_edit' nurse_id=" + nurse_id + "><span><b>" + first_name + "</b></span></td>";
      
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Last Name</span></td>";
              html+="<td id='nurse_last_name_edit' nurse_id=" + nurse_id + "><span><b>" + last_name + "</b></span></td>";
              
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Gender</span></td>";
              html+="<td nurse_id=" + nurse_id + "><span><b>" + gender + "</b></span></td>";
              
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Grade</span></td>";
              html+="<td nurse_id=" + nurse_id + "><span><b>" + grade + "</b></span></td>";
             
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2'>&nbsp;</td>";
            html+="</tr>";
            html+="<tr>";
              html+="<td><span>Date created</span></td>";
              html+="<td><span><b>" + date_created + "</b></span></td>";
              html+="<td><span>&nbsp;</span></td>";
            html+="</tr>";
            html+="<tr style='line-height: 7px; !important;'>";
              html+="<td colspan='2' id='delete_nurse_button' nurse_id=" + nurse_id + " onclick='confirmDelete(this);'><span>Delete</span></td>";
            html+="</tr>";
          html+="</table>";
        html+="</div>"
        nurse_details.innerHTML=html;
        console.log(first_name + '--' + last_name + '--' + gender + '--' + grade + '--' + date_created);
     }

     function deleteNurse(nurse_id){
      jQuery.ajax({
            type: "POST",
            url: "/nurses/delete_nurse",
            data: "nurse_id=" + nurse_id,
            success: function(){
               searchNursesToBeDeleted();
               nurse_details = document.getElementById('nurse_details');
               html = "<div>";
               html+="<span style='position:absolute; top:30%; left:12%; font-size:14pt; color:green;'>One record has been successfully deleted</span>";
               html+="<span style='position:absolute; top:36%; left:22%; font-size:14pt; color:green;'>Select another record to delete</span>";
               html+="<div>";
               nurse_details.innerHTML=html;
            }
          });
     }

     function editNurseFirstName(){
        var inner_content = document.getElementById('inner_content');
        document.getElementById('shield_two').style.display='inline';
        html = "<div id='edit_first_name_menu'>";

        html+= "<div id='edit_first_name_header'>";
        html+="<span style='position:absolute; left:20%; top:36%;'>Edit first name</span>";
        html+="</div>";

        html+= "<div id='edit_first_name_content'>";
        html+="<table style='position: absolute; left: 20%; top: 40%; width:80%;'>";
        html+="<tr><td>First Name</td> <td><input id='fname_input' type='text' name='first_name'/></td></tr>";
        html+="</table>"
        html+="</div>";

        html+= "<div id='edit_first_name_footer'>";
        html+="<span id='edit_save' onclick='changeInnerHtml(\"fname_input\", \"nurse_first_name_edit\"); hideElements(\"edit_first_name_menu\")'>Okay</span> <span id='edit_cancel' onclick='hideElements(\"edit_first_name_menu\")'>Cancel</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }
     function editNurseLastName(){
        var inner_content = document.getElementById('inner_content');
        document.getElementById('shield_two').style.display='inline';
        html = "<div id='edit_last_name_menu'>";

        html+= "<div id='edit_last_name_header'>";
        html+="<span style='position:absolute; left:20%; top:36%;'>Edit last name</span>";
        html+="</div>";

        html+= "<div id='edit_first_name_content'>";
        html+="<table style='position: absolute; left: 20%; top: 40%; width:80%;'>";
        html+="<tr><td>Last Name</td> <td><input id='lname_input' type='text' name='last_name'/></td></tr>";
        html+="</table>"
        html+="</div>";

        html+= "<div id='edit_last_name_footer'>";
        html+="<span id='edit_save' onclick='changeInnerHtml(\"lname_input\", \"nurse_last_name_edit\"); hideElements(\"edit_last_name_menu\")'>Okay</span> <span id='edit_cancel' onclick='hideElements(\"edit_last_name_menu\")'>Cancel</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function editNurseGender(){
        var inner_content = document.getElementById('inner_content');
        document.getElementById('shield_two').style.display='inline';
        html = "<div id='edit_gender_menu'>";

        html+= "<div id='edit_gender_header'>";
        html+="<span style='position:absolute; left:20%; top:36%;'>Select gender</span>";
        html+="</div>";

        html+= "<div id='edit_gender_content'>";
        html+="<table style='position: absolute; left: 40%; top: 30%; width:30%;'>";
        html+="<tr><td><span><img src='/images/icons/radio-button_off.png'/></span></td><td>Male</td></tr>";
        html+="<tr><td><span><img src='/images/icons/radio-button_off.png'/></span></td><td>Female</td></tr>";
        html+="</table>"
        html+="</div>";

        html+= "<div id='edit_gender_footer'>";
        html+="<span id='edit_save'>Okay</span> <span id='edit_cancel' onclick='hideElements(\"edit_gender_menu\")'>Cancel</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function editNurseGrade(){
      var inner_content = document.getElementById('inner_content');
        document.getElementById('shield_two').style.display='inline';
        html = "<div id='edit_grade_menu' style='position:absolute; height:42%;'>";

        html+= "<div id='edit_grade_header'>";
        html+="<span style='position:absolute; left:20%; top:30%;'>Select grade</span>";
        html+="</div>";

        html+= "<div id='edit_grade_content'>";
        html+="<table style='position: absolute; left: 40%; top: 22%; width:15%;'>";
        html+="<tr>"
        html+= "<td><span><img src='/images/icons/radio-button_off.png'/></span></td><td><span>A</span></td>";
        html+="</tr>"

        html+="<tr>"
        html+= "<td><span><img src='/images/icons/radio-button_off.png'/></span></td><td><span>B</span></td>";
        html+="</tr>"

        html+="<tr>"
        html+= "<td><span><img src='/images/icons/radio-button_off.png'/></span></td><td><span>C</span></td>";
        html+="</tr>"

        html+="<tr>"
        html+= "<td><span><img src='/images/icons/radio-button_off.png'/></span></td><td><span>D</span></td>";
        html+="</tr>"
        
        html+="</table>"
        html+="</div>";

        html+= "<div id='edit_gender_footer'>";
        html+="<span id='edit_save'>Okay</span> <span id='edit_cancel' onclick='hideElements(\"edit_grade_menu\")'>Cancel</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function hideElements(id){
      if (document.getElementById(id)){
        element = document.getElementById(id);
        element.parentNode.removeChild(element);
        document.getElementById('shield_two').style.display='none';
      }
     }

     function changeInnerHtml(source_id, target_id){
       if (source_id){
         value = document.getElementById(source_id).value
         if (document.getElementById(target_id)){
           element = document.getElementById(target_id);
           element.innerHTML="<span style='color:red'><b>" + value + "</b></span>"
           element.setAttribute("edited_value", value);
         }
      }
     }

     function saveNurseEditedDetails(){
       fname_value = "";
       lname_value = "";
       fname_edit = document.getElementById('nurse_first_name_edit');
       nurse_id = fname_edit.getAttribute('nurse_id');
       if (fname_edit.getAttribute('edited_value')){
          fname_value = fname_edit.getAttribute('edited_value');
       }
       lname_edit = document.getElementById('nurse_last_name_edit');
       if (lname_edit.getAttribute('edited_value')){
          lname_value = lname_edit.getAttribute('edited_value');
       }

       if (fname_value.length >=1 || lname_value.length >=1){
         jQuery.ajax({
            type: "POST",
            url: "/nurses/create_updated_details",
            data: "first_name=" + fname_value + "&last_name=" + lname_value + "&nurse_id=" + nurse_id,
            success: function(){
             searchNurses();
             window.setTimeout(function(){
              obj = document.getElementById(nurse_id);
              obj.classList.add("active_row");
              showNurseDetails(obj);
             },200);
              
            }
          });
       }
       else{
         noChangesDetected();
       }
     }

     function noChangesDetected(){
        inner_content = document.getElementById('inner_content');
        document.getElementById('shield_two').style.display='inline';
        html = "<div id='warning_menu' style='left:43%; width:54%;'>";

        html+= "<div id='warning_header' style='background-color: #FF3030;'>";
        html+="<span style='position:absolute; left:20%; top:36%;'></span>";
        html+="</div>";

        html+= "<div id='warning_content'>";
        html+="<table style='position: absolute; left: 20%; top: 30%; width:50%;'>";
        html+="<tr><td rowspan='2'><img src='/images/icons/dialog-warning-64.png'/></td><td><span style='color:red; font-weight:bold;'>Error</span></td></tr>"
        html+="<tr><td colspan='2'><span style='color:red;'>No changes detected</span></td></tr>";
        html+="</table>"
        html+="</div>";

        html+="<div id='warning_footer' style='background-color: #FF3030;'>";
        html+="<span id='okay' onclick='hideElements(\"warning_menu\")'>Okay</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function confirmDelete(obj){
        nurse_id = obj.getAttribute("nurse_id")
        inner_content = document.getElementById('inner_content');
        document.getElementById('shield_two').style.display='inline';
        html = "<div id='warning_menu' style='left:41.3%; width:57.5%;'>";

        html+= "<div id='warning_header' style='background-color: gray; height:64px;'>";
        html+="<table style='position:absolute; left:32%;'>"
        html+="<tr><td rowspan='2'><img style='height:40%;' src='/images/icons/dialog-warning-64.png'/></td><td><span style='font-weight:bold;'>Delete</span></td></tr>"
        html+="</table>";
        html+="</div>";

        html+= "<div id='warning_content'>";
        html+="<table style='position: absolute; left: 20%; top: 45%; width:80%;'>";
 
        html+="<tr><td colspan='2'><span>One record will be deleted. Continue?</span></td></tr>";
        html+="</table>"
        html+="</div>";

        html+="<div id='warning_footer' style='background-color: gray;'>";
        html+="<span style='padding: 1.3% 15%; top: 15%;' id='okay' onclick='deleteNurse(nurse_id); hideElements(\"warning_menu\")'>Okay</span>";
        html+="<span style='padding: 1.3% 15%; top: 15%;' id='cancel' onclick='hideElements(\"warning_menu\")'>Cancel</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function importFromCSVmenu(){
        var inner_content = document.getElementById('inner_content');
        document.getElementById('shield').style.display='inline';
        html = "<div id='create_csv_menu'>";
        html+= "<div id='create_csv_header'>";
        html+="<span style='position:absolute; top:4%; left:9%; top:30%;'>Upload CSV file</span>";
        html+="</div>";

        html+= "<div id='create_roster_content'>";       
        html+="<div style='position: absolute; left:10%; width:80%; margin-top:7%;'><span>Browse file</span>"
        html+="<input style='position:absolute; width:48%; left:25%;' id='uploadFile' placeholder='Choose File' disabled='disabled'/>"
        html+="<div class='fileUpload'><span onclick='getFile()'>Upload</span>"
        html+="</div></div>"
        html+="</div>";

        html+= "<div id='create_roster_footer'>";
        html+="<span onclick='document.getElementById(\"upload_csv\").submit();' id='okay_button'>Send</span>";
        html+="<span onclick='hideCreateCSVPopup();' id='cancel_button'>Cancel</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

       function getFile(){
         document.getElementById("file").click();
        }

       function sub(obj){
          var file = obj.value;
          var fileName = file.split("\\");
          document.getElementById("uploadFile").value = fileName[fileName.length-1];
      }

      function createNewUser(){
        var inner_content = document.getElementById('inner_content');
        document.getElementById('shield').style.display='inline';
        html = "<form><div id='create_user_menu'>";

        html+= "<div id='create_user_header'>";
        html+="<span style='position:absolute; left:20%; top:36%;'>Create new user</span>";
        html+="</div>";

        html+= "<div id='create_user_content'>";
        html+="<table style='margin-left: 20%; margin-top: 8%; width:80%;'>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>First Name</td> <td><input type='text' name='first_name'/></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>Last Name</td> <td><input type='text' name='last_name'/></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>Username</td><td><input type='text' name='username'/></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>Password</td><td><input type='password' name='password'/></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="<tr><td>Gender</td><td><select><option><%= '-' * 20 %>Please Select Gender<%= '-' * 20 %></option><option>Male</option><option>Female</option></select></td></tr>";
        html+="<tr style='height:1em;'></tr>";
        html+="</table>"
        html+="</div>";

        html+= "<div id='create_user_footer'>";
        html+="<span id='save_user'>Save</span> <span id='cancel_user' onclick='hideCreateUserPopup();'>Cancel</span>";
        html+="</div>";

        html+="</div></form>";
        inner_content.innerHTML+=html;
      }

     function editUserMenu(){
        var inner_content = document.getElementById('inner_content');
        html = "<div id='edit_user_menu'>";
        html+= "<div id='edit_left_div'>";
        html+="<table style='position:absolute; width:100%; margin-left:1%;'>";
        html+="<tr><td style='width:40%;'><span><input placeholder= 'Filter contacts' name='search' type='text' id='search_input'/><img onclick='document.getElementById(\"search_input\").value=\"\"' src='/images/icons/clear_02.png' id='clear_image'/></span></td></tr>"
        html+="</table>"
        html+="</div>";
        html+= "<div id='content_header'>";
        html+="<span>Edit user</span>";
        html+="</div>";
        html+="</div>";
        inner_content.innerHTML=html;
     }

     
     function deleteUserMenu(){
        var inner_content = document.getElementById('inner_content');
        html = "<div id='edit_user_menu'>";
        html+= "<div id='edit_left_div'>";
        html+="<table style='position:absolute; width:100%; margin-left:1%;'>";
        html+="<tr><td style='width:40%;'><span><input placeholder= 'Filter contacts' name='search' type='text' id='search_input'/><img onclick='document.getElementById(\"search_input\").value=\"\"' src='/images/icons/clear_02.png' id='clear_image'/></span></td></tr>"
        html+="</table>"
        html+="</div>";
        html+= "<div id='content_header'>";
        html+="<span style='background-color:#E9967A'>Delete user</span>";
        html+="</div>";
        html+="</div>";
        inner_content.innerHTML=html;
     }

     function blockUserMenu(){
        var inner_content = document.getElementById('inner_content');
        html = "<div id='edit_user_menu'>";
        html+= "<div id='edit_left_div'>";
        html+="<table style='position:absolute; width:100%; margin-left:1%;'>";
        html+="<tr><td style='width:40%;'><span><input placeholder= 'Filter contacts' name='search' type='text' id='search_input'/><img onclick='document.getElementById(\"search_input\").value=\"\"' src='/images/icons/clear_02.png' id='clear_image'/></span></td></tr>"
        html+="</table>"
        html+="</div>";
        html+= "<div id='content_header'>";
        html+="<span style='background-color:#CDCD00'>Block user</span>";
        html+="</div>";
        html+="</div>";
        inner_content.innerHTML=html;
     }

     function deleteNurseMenu(){
        var inner_content = document.getElementById('inner_content');
        html = "<div id='edit_nurse_menu'>";
          html+= "<div id='left_div'>";
              html+="<table style='position:absolute; width:100%; margin-left:1%;'>";
              html+="<tr><td style='width:40%;'><span><input onkeyup='searchNursesToBeDeleted(this);' placeholder= 'Filter contacts' name='search' type='text' id='search_input'/><img onclick='document.getElementById(\"search_input\").value=\"\"' src='/images/icons/clear_02.png' id='clear_image'/></span></td></tr>"
              html+="</table>"
          html+="</div>";
          html+= "<div id='content_header'>";
            html+="<span style='background-color:#F08080 !important;'>Del. nurse</span>";
          html+="</div>";
          html+="<div id='delete_nurse_content'>";
          html+="</div>";
          html+="<div style='display:none;' id='found_results_info'>";
          html+="</div>";
          html+="<div id='nurse_details'>";
          html+="</div>";
        html+="</div>";
        inner_content.innerHTML=html
     }

     function submitNewNurseForm(){
      employee_number = document.getElementById('employee_number').value;
      first_name = document.getElementById('first_name').value;
      last_name = document.getElementById('last_name').value;
      gender = document.getElementById('gender').options[document.getElementById('gender').options.selectedIndex].value;
      grade = document.getElementById('grade').options[document.getElementById('grade').options.selectedIndex].value
      jQuery.ajax({
        type: "POST",
        url: "/nurses/create",
        data: "employee_number=" + employee_number + "&first_name=" + first_name + "&last_name=" + last_name + "&gender=" + gender + "&grade=" + grade,
        success: function(){
          resetFields();
          addAnotherNurseRecord();
        }

      });
     }

     function resetFields(){
        form_elements = document.getElementsByTagName('form')[0].elements;
        for(i=0; i<form_elements.length; i++){
            if (form_elements[i].type == "text"){
              form_elements[i].value = "";
            }
            if (form_elements[i].tagName == "SELECT"){
              form_elements[i].options.selectedIndex = 0;
            }
        }
     }

     function addAnotherNurseRecord(){

        var inner_content = document.getElementById('inner_content');
        if (document.getElementById('shield_two'))
          document.getElementById('shield_two').style.display='inline';
        else {
          div = document.createElement('div');
          div.id="shield_two";
          div.style.display='inline';
          $('body')[0].appendChild(div);
        }
        html = "<div id='nurse_confirm_menu'>";

        html+= "<div id='nurse_confirm_header'>";
        html+="<span style='position:absolute; top:23%; left:10%;'>Record succcessfully Added</span>";
        html+="</div>";

        html+="<div id='nurse_confirm_content'>";
        html+="<center><span>Do you want to add another <br />record?</span></center>";
        html+="</div>";
        html+="<div id='nurse_confirm_footer'>";
        html+="<span id='add_nurse' onclick='addNurseRecord();'>Add</span> <span id='exit' onclick='rejectAddNurseRecord();'>Exit</span>";
        html+="</div>";
        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function addNurseRecord(){

        nurse_confirm_menu = document.getElementById('nurse_confirm_menu');
        nurse_confirm_menu.parentNode.removeChild(nurse_confirm_menu);

        shield_two = document.getElementById('shield_two');
        shield_two.parentNode.removeChild(shield_two);
     }

     function rejectAddNurseRecord(){
      window.location='/roster/content'
     }

     function generateRoster(){

      start_date = document.getElementById('start_date').value;
      end_date = document.getElementById('end_date').value;
      jQuery.ajax({
            type: "POST",
            url: "/roster/create_roster",
            data: "start_date=" + start_date + '&end_date=' + end_date,
            beforeSend:function(){
              pleaseWaitMessage("Generating Roster. Please wait");
            },
            success: function(result){
                if (document.getElementById('please_wait_menu')){
                  please_wait_menu = document.getElementById('please_wait_menu');
                  please_wait_menu.parentNode.removeChild(please_wait_menu);
                }
                showViewRosterPrompt();
              }
          });
     }

     function showViewRosterPrompt(){
      
        if (document.getElementById('create_roster_menu')){
          rmenu = document.getElementById('create_roster_menu');
          rmenu.parentNode.removeChild(rmenu);
        }
        
        if (document.getElementById('shield')){
          document.getElementById('shield').style.display='none';
        }

        if (document.getElementById('shield_two')){
          document.getElementById('shield_two').style.display='inline';
        }
        document.getElementById('shield_two').style.display='inline';
        inner_content = document.getElementById('inner_content');
        html = "<div id='roster_prompt_menu' style='left:24%; width:54%;'>";

        html+= "<div id='roster_prompt_header' style='background-color: #FF3030;'>";
        html+="<span style='position:absolute; left:20%; top:36%;'></span>";
        html+="</div>";

        html+= "<div id='roster_prompt_content' style='background-color:black; color:white;'>";
        html+="<span style='font-size: 14pt;'><center style='margin-top:4%;'>Roster has been successfully generated. <br />You can view it now</center></span>"
        html+="</div>";

        html+="<div id='roster_prompt_footer' style='background-color: #BDB76B;'>";
        html+="<span id='okay_button' onclick=''>View Now</span>";
        html+="<span id='cancel_button' onclick='window.location=\"/roster/content\"'>View Later</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function pleaseWaitMessage(message){
         if (document.getElementById('create_roster_menu')){
          rmenu = document.getElementById('create_roster_menu');
          rmenu.parentNode.removeChild(rmenu);
        }
        inner_content = document.getElementById('inner_content');
        html= "<div id='please_wait_menu' style='left:24%; width:54%;'>";

        html+="<div id='please_wait_header' style='background-color: #FF3030;'>";
        html+="<span style='position:absolute; left:20%; top:36%;'></span>";
        html+="</div>";

        html+="<div id='please_wait_content' style='background-color:black; color:white;'>";
        html+="<table style='position:absolute; color:white; font-size:14pt; left:18%; top:5%;'>"
        html+="<tr><td>" + message + "</td> <td id='progress' style='font-weight:bold;'></td></tr>"
        html+="</table>"
        html+="</div>";

        html+="<div id='please_wait_footer' style='background-color: #BDB76B; height:20px;'>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function changeProgress(){
        if (document.getElementById('progress')){
            progress = document.getElementById('progress').innerHTML;
            if (progress.length == 3) document.getElementById('progress').innerHTML='';
            if (progress.length == 2) document.getElementById('progress').innerHTML='...';
            if (progress.length == 1) document.getElementById('progress').innerHTML='..';
            if (progress.length == 0) document.getElementById('progress').innerHTML='.';
            document.getElementById('shield_two').style.display='inline';
            //document.getElementById("shield_two").style.cursor="progress";
      }
    }
     window.setInterval("changeProgress();", 500);


     function getRosterDates() {
        return JSON.parse($.ajax({
            type: 'GET',
            url: '/roster/return_roster_dates',
            dataType: 'json',
            global: false,
            async:false,
            success: function(data) {
              return data;
            }
        }).responseText);
    }



     function viewRoster(){
        roster_dates = getRosterDates();        
        jQuery.ajax({
          type: "POST",
          url: "/roster/view_main_roster",
          data: "",
          beforeSend:function(){
            pleaseWaitMessage("Iniatilizing. Please wait");
          },
          success: function(roster_hash){
            document.getElementById('shield_two').style.display='none';

            if (document.getElementById('please_wait_menu')){
                please_wait_menu = document.getElementById('please_wait_menu');
                please_wait_menu.parentNode.removeChild(please_wait_menu);
            }

            html = "<div id='main_roster'>";
            html+="<table cellspacing='0' style='position:absolute; width:100%;'>";
            html+="<tr style='background-color:#D1EEEE; line-height:2em;'>";
            html+="<td style='min-width:60px; background-color:white; border-bottom: 1px solid black;'>&nbsp;</td>";
            for(i=0; i < roster_dates.length; i++){
              html+="<td onclick='showRosterSummaryByDate(this)' class='roster_header' style='min-width:120px; border-bottom: 1px solid black;' rdate=" + roster_dates[i] + "><center><span>" + roster_dates[i] + "</span></center></td>";
            }
            html+="</tr>";
            inner_content = document.getElementById('inner_content');
            for (var nurse_id in roster_hash){
              html+="<tr>";
              html+="<td class='nurse_names' onclick='showRosterSummaryByNurse(this)' style='background-color:#D1EEEE; border-bottom: 1px solid black;border-right: 1px solid black;' nurse_id=" + nurse_id + ">" + nurse_id + "</td>";
              for(i=0; i < roster_dates.length; i++){
                shift_date = roster_dates[i];
                shift = roster_hash[nurse_id][shift_date] || "";
                shift_quoted = "'" + shift + "'"
                if (shift.length != 0){
                  html+="<td class='roster_shift' onclick='showRosterSummaryByShift(this)' style='border-bottom: 1px solid black; border-right: 1px solid black;' rdate=" + shift_date + " shift_name= " + shift_quoted + "><center><span>" + shift + "</span></center></td>";
                }
                else{
                  html+="<td  onclick='showRosterSummaryByShift(this)' style='border-bottom: 1px solid black; border-right: 1px solid black;' rdate=" + shift_date + " shift_name= " + shift_quoted + "><center><span>" + shift + "</span></center></td>";

                }
             }
              html+="</tr>";
            }
            html+="</table>";
            html+="</div>";
            inner_content.innerHTML=html;
          }
        });
        
     }

     function viewRosterToBeEdited(){
        roster_dates = getRosterDates();
        jQuery.ajax({
          type: "POST",
          url: "/roster/view_main_roster",
          data: "",
          beforeSend:function(){
            pleaseWaitMessage("Iniatilizing. Please wait");
          },
          success: function(roster_hash){
            document.getElementById('shield_two').style.display='none';

            if (document.getElementById('please_wait_menu')){
                please_wait_menu = document.getElementById('please_wait_menu');
                please_wait_menu.parentNode.removeChild(please_wait_menu);
            }

            html = "<div id='main_roster'>";
            html+="<table cellspacing='0' style='position:absolute; width:100%;'>";
            html+="<tr style='background-color:#D1EEEE; line-height:2em;'>";
            html+="<td style='min-width:60px; background-color:white; border-bottom: 1px solid black;'>&nbsp;</td>";
            for(i=0; i < roster_dates.length; i++){
              html+="<td class='roster_header' style='min-width:120px; border-bottom: 1px solid black;' rdate=" + roster_dates[i] + "><center><span>" + roster_dates[i] + "</span></center></td>";
            }
            html+="</tr>";
            inner_content = document.getElementById('inner_content');
            
            for (var nurse_id in roster_hash){
              html+="<tr>";
              html+="<td class='nurse_names' style='background-color:#D1EEEE; border-bottom: 1px solid black;border-right: 1px solid black;' nurse_id=" + nurse_id + ">" + nurse_id + "</td>";
              for(i=0; i < roster_dates.length; i++){
                shift_date = roster_dates[i];
                shift = roster_hash[nurse_id][shift_date] || "";
                shift_quoted = "'" + shift + "'"
                if(shift.length > 11) shift = shift.substring(0, 9) + '...';
                img = "<img style='float:right;' src='/images/down.png' class='drop_down' onmousedown='showAvailableShifts();'/>"
                if(shift.length == 0) img = '';
                html+="<td  class='edit_data' onmousedown='setActiveCell(this); showAvailableShiftsTwo(this);' style='border-bottom: 1px solid black; border-right: 1px solid black;' nurse_id=" + nurse_id + " rdate=" + shift_date + " shift_name= " + shift_quoted + "><center><span>" + shift + img + "</span></center></td>";
             }
              html+="</tr>";
            }
            html+="</table>";
            html+="</div>";
            html+="<div class='buttons' style='position:absolute;bottom:18.5%; left:0%; z-index:100; width:100%;'>";
            html+="<span id='save_changes' onmousedown='saveRosterChangesPopup();'>Save</span>";
            html+="<span id='cancel_changes' onmousedown='cancelRosterChangesPopup();'>Cancel</span>";
            html+="</div>";
            inner_content.innerHTML=html;
          }
        });

     }
     
     function showRosterSummaryByDate(e){
        rdate = e.getAttribute('rdate');
        old_value = $('#shield').css('z-index');
        jQuery.ajax({
            type: "POST",
            url: "/roster/roster_summary_by_date",
            data: "rdate=" + rdate,
            success: function(result){
              showShieldOne();
              $('#shield').css('z-index', 51);
              roster_summary = eval(result);
              inner_content = document.getElementById('inner_content');
              html = "<div id='warning_menu' style='z-index:100; height:34%; left:33.5%; width:36%; border-left: 1px solid black; border-right: 1px solid black;'>";

              html+= "<div id='warning_header' style='background-color: #36648B; height:40px'>";
              html+="<span style='position:absolute; left:34%; top:36%;'>" + rdate + "</span>";
              html+="</div>";

              html+= "<div id='warning_content' style='position:relative; overflow:auto; height:56%; margin-top:13%;'>";
              html+="<table style='position: absolute; left: 5%; top: 4%; width:80%;'>";
              for (var roster in roster_summary){
                html+="<tr>";
                html+="<td>" + roster + "</td>";
                html+="<td>" + roster_summary[roster]["count"] + "</td>";
                html+="</tr>";
              }
              html+="</table>"
              html+="</div>";

              html+="<div id='warning_footer' style='background-color: gray; height:42px;'>";
              html+="<span style='padding: 1.5% 41.5%;' id='okay' onclick='hideElements(\"warning_menu\"); hideShield(); resetZindexValues(\"shield\", old_value)'>Okay</span>";
              html+="</div>";

              html+="</div>";
              inner_content.innerHTML+=html;
            }
        });
     }

     function showRosterSummaryByNurse(e){
        nurse_id = e.getAttribute('nurse_id');
        old_value = $('#shield').css('z-index');
        jQuery.ajax({
            type: "POST",
            url: "/roster/roster_summary_by_nurse",
            data: "nurse_id=" + nurse_id,
            success: function(result){
              showShieldOne();
              $('#shield').css('z-index', 51);
              roster_summary = eval(result);
              nurse_names = result["names"];
              console.log(nurse_names);
              inner_content = document.getElementById('inner_content');
              html = "<div id='warning_menu' style='z-index:100; height:34%; left:33.5%; width:36%; border-left: 1px solid black; border-right: 1px solid black;'>";

              html+= "<div id='warning_header' style='background-color: #36648B; height:40px'>";
              html+="<span style='position:absolute; left:6%; top:36%;'>" +  nurse_names + "</span>";
              html+="</div>";

              html+= "<div id='warning_content' style='position:relative; overflow:auto; height:56%; margin-top:13%;'>";
              html+="<table style='position: absolute; left: 5%; top: 4%; width:80%;'>";
              for (var roster in roster_summary){
                if (roster.match(/names/i))continue;
                html+="<tr>";
                html+="<td>" + roster + "</td>";
                html+="<td>" + roster_summary[roster]["count"] + "</td>";
                html+="</tr>";
              }
              html+="</table>"
              html+="</div>";

              html+="<div id='warning_footer' style='background-color: gray; height:42px;'>";
              html+="<span style='padding: 1.5% 41.5%;' id='okay' onclick='hideElements(\"warning_menu\"); hideShield(); resetZindexValues(\"shield\", old_value)'>Okay</span>";
              html+="</div>";

              html+="</div>";
              inner_content.innerHTML+=html;
            }
        });
     }

     function showRosterSummaryByShift(e){
        shift_name = e.getAttribute('shift_name');
        rdate = e.getAttribute('rdate');
        jQuery.ajax({
            type: "POST",
            url: "/roster/roster_summary_by_shift",
            data: "shift_name=" + shift_name + "&rdate=" + rdate,
            success: function(result){
              showShieldOne();
              $('#shield').css('z-index', 51);
              roster_summary = eval(result);

              inner_content = document.getElementById('inner_content');
              html = "<div id='warning_menu' style='z-index:100; height:34%; left:33.5%; width:36%; border-left: 1px solid black; border-right: 1px solid black;'>";

              html+= "<div id='warning_header' style='background-color: #36648B; height:40px'>";
              html+="<span style='position:absolute; left:6%; top:36%;'>" +  shift_name + " ( <span style='color:white;'>" + roster_summary["total_nurses"] + " Nurses </span>) </span>";
              html+="</div>";

              html+= "<div id='warning_content' style='position:relative; overflow:auto; height:56%; margin-top:13%;'>";
              html+="<table style='position: absolute; left: 5%; top: 4%; width:80%;'>";
              for (var roster in roster_summary){
                if (roster.match(/total_nurses/i))continue;
                html+="<tr>";
                html+="<td>" + roster_summary[roster] + "</td>";
                html+="</tr>";
              }
              html+="</table>"
              html+="</div>";

              html+="<div id='warning_footer' style='background-color: gray; height:42px;'>";
              html+="<span style='padding: 1.5% 41.5%;' id='okay' onclick='hideElements(\"warning_menu\"); hideShield(); resetZindexValues(\"shield\", old_value)'>Okay</span>";
              html+="</div>";

              html+="</div>";
              inner_content.innerHTML+=html;
            }
        });
     }

     function availableShifts(){
        shifts = [
                  "Day Off Shift", "Early Shift", "Late Shift", "Long Day Shift", //"Night Shift"
                 ];
        inner_content = document.getElementById('inner_content');
        html = "<div id='warning_menu' class='shift_options' style='z-index:103; height:33%; left:33.5%; width:25%; border-left: 1px solid black; border-right: 1px solid black;'>";

        html+= "<div id='warning_header' style='background-color: #36648B; height:40px'>";
        html+="<span style='position:absolute; left:6%; top:36%;'>Select Shift</span>";
        html+="</div>";

        html+= "<div id='warning_content' style='position:relative; overflow:auto; height:60%; margin-top:17%;'>";
        html+="<table style='position: absolute; left: 0; top: 4%; width:100%;'>";

        for (i=0; i<shifts.length; i++){
          html+="<tr>";
          html+="<td onmousedown='removeResetMode(); highlightSelectedShift(this);'class='shifts_options'>" + shifts[i] + "</td>";
          html+="</tr>";
        }

        html+="<tr>";
        html+="<td class='reset' style='background-color: #76EE00' onmousedown='setResetMode(); highlightSelectedShift(this);'class='shifts_options'> Reset</td>";
        html+="</tr>";

        html+="</table>"
        html+="</div>";

        html+="<div id='warning_footer' style='background-color: gray; height:42px;'>";
        html+="<span style='padding: 1.5% 11%;' id='okay' onmousedown='resetShiftChange(); updateSelectedShift(this); removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_zindex_value); hideShield();'>Okay</span>";
         html+="<span style='padding: 1.5% 7%; top:14%;' id='cancel' onmousedown='removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_zindex_value); hideShield(); deselectActiveCell();'>Cancel</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
        setResetBackgroundColor();
     }

     function saveRosterChangesPopup(){
     	old_value = $('#shield_two').css('z-index');
     	$('#shield_two').css('z-index', 102);
     	showShieldTwo();
        inner_content = document.getElementById('inner_content');
        html = "<div id='warning_menu' style='z-index:103; height:25%; left:17.5%; width:70%; border-left: 1px solid black; border-right: 1px solid black;'>";

        html+="<div id='warning_header' style='background-color: #36648B; height:40px'>";
        html+="<span style='position:absolute; left:7%; top:36%; color:white; font-weight:bold;'>Save Changes</span>";
        html+="</div>";

        html+="<div id='warning_content' style='position:relative; overflow:auto; height:40%; margin-top:10%;'>";
        html+="<table style='position: absolute; left: 0; top: 2%; width:100%;'>";

        html+="<tr>";
        html+="<td><span><center>New changes have been detected. Are you sure you want to save?</center></span></td>";
        html+="</tr>";

        html+="</table>"
        html+="</div>";

        html+="<div id='warning_footer' style='background-color: gray; height:50px;'>";
        html+="<span style='padding: 1.5% 7%;' id='okay' onmousedown='saveAndStay(); removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_value); hideShield();'>Save and Stay</span>";
        html+="<span style='left:39%; padding: 1.5% 7%; top:14%;' id='okay' onmousedown='saveAndExit(); removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_value); hideShield();'>Save and Exit</span>";
		html+="<span style='padding: 1.5% 7%; top:14%;' id='cancel' onmousedown='removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_value); hideShield();'>Cancel</span>"; 

        html+="</div>";

		/* 
			html+="<span style='padding: 1.5% 7%;' id='okay' onmousedown='removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_zindex_value); hideShield();'>Save and Stay</span>";
			html+="<span style='left:41%;padding: 1.5% 7%;' id='okay' onmousedown='removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_zindex_value); hideShield();'>Save and Exit</span>";
			html+="<span style='padding: 1.5% 7%; top:14%;' id='cancel' onmousedown='removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_zindex_value); hideShield();'>Yes</span>"; 
		 */
        html+="</div>";
        inner_content.innerHTML+=html;
     }

     function saveChanges(){
        jQuery.ajax({
        type: "POST",
        url: "/roster/save_changes",
        data: changes,
        success: function(){
          changes = {}
          main_roster = document.getElementById('main_roster');
          main_roster.parentNode.removeChild(main_roster);
          viewRosterToBeEdited();
        }
        });
     }
	
	function saveAndStay(){
        jQuery.ajax({
        type: "POST",
        url: "/roster/save_changes",
        data: changes,
        beforeSend:function(){
            pleaseWaitMessage("Saving. Please wait");
          },
        success: function(){
          please_wait_menu = document.getElementById('please_wait_menu');
          please_wait_menu.parentNode.removeChild(please_wait_menu);
          changes = {}
          main_roster = document.getElementById('main_roster');
          main_roster.parentNode.removeChild(main_roster);
          viewRosterToBeEdited();
        }
        });
     }

	function saveAndExit(){
        jQuery.ajax({
        type: "POST",
        url: "/roster/save_changes",
        data: changes,
        beforeSend:function(){
            pleaseWaitMessage("Saving. Please wait");
          },
        success: function(){
			window.location = window.location.href;
        }
        });
     }

     
     function cancelRosterChangesPopup(){
     	old_value = $('#shield_two').css('z-index');
     	$('#shield_two').css('z-index', 102);
     	showShieldTwo();
        inner_content = document.getElementById('inner_content');
        html = "<div id='warning_menu' style='z-index:103; height:25%; left:17.5%; width:70%; border-left: 1px solid black; border-right: 1px solid black;'>";

        html+="<div id='warning_header' style='background-color: #36648B; height:40px'>";
        html+="<span style='position:absolute; left:7%; top:36%; color:white; font-weight:bold;'>Changes Detected</span>";
        html+="</div>";

        html+="<div id='warning_content' style='position:relative; overflow:auto; height:40%; margin-top:10%;'>";
        html+="<table style='position: absolute; left: 0; top: 2%; width:100%;'>";

        html+="<tr>";
        html+="<td><span><center>New changes have been detected. Are you sure you want to cancel?</center></span></td>";
        html+="</tr>";

        html+="</table>"
        html+="</div>";

        html+="<div id='warning_footer' style='background-color: gray; height:50px;'>";
        html+="<span style='padding: 1.5% 7%;' id='okay' onmousedown='saveAndStay(); removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_value); hideShield();'>Save and Stay</span>";
        html+="<span style='left:41%;padding: 1.5% 7%;' id='okay' onmousedown='saveAndExit(); removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_value); hideShield();'>Save and Exit</span>";
        html+="<span style='padding: 1.5% 7%; top:14%;' id='cancel' onmousedown='removeElement(\"warning_menu\"); resetZindexValues(\"shield_two\", old_value); hideShield();'>Yes</span>";
        html+="</div>";

        html+="</div>";
        inner_content.innerHTML+=html;
     }

      function setResetBackgroundColor(){
        edited_elements = $(".edited");
        if (edited_elements.length == 0){
          $(".reset").css(
                  {
                    backgroundColor:'#A9A9A9',
                    cursor:'pointer'
                  }
                );
        }
        else{
          $(".reset").css(
                  {
                    backgroundColor:'#76EE00',
                    cursor:'pointer'
                  }
                );
        }
      }
      
      function setResetMode(){
      //We dont want to be changing the okay button when editing and resetting shift
      //Therefore we will be checking the current mode value to do the logic for us
        mode = 'reset';
      }

      function removeResetMode(){
      //We dont want to be changing the okay button when editing and resetting shift
      //Therefore we will be checking the current mode value to do the logic for us
        mode = 'set';
      }
      
      function resetShiftChange(){
        if (mode == 'set') return;
        active_cell = document.getElementById('active_cell');
        nurse_id_copy = active_cell.getAttribute('nurse_id');
        rdate = active_cell.getAttribute('rdate');
        if ($('#active_cell').hasClass("edited")){
          old_shift = active_cell.getAttribute('shift_name');
          if(old_shift.length > 11) old_shift = old_shift.substring(0, 9) + '...';
          img = "<img style='float:right;' src='/images/down.png' class='drop_down' onmousedown='showAvailableShifts();'/>";
          active_cell.innerHTML = old_shift + img;

          reset_changes = {}
          for (var nurse_id in changes){
            reset_changes[nurse_id] = {}
            for (var key in changes[nurse_id]){
             if (key == rdate && nurse_id == nurse_id_copy) continue;
              reset_changes[nurse_id][key] = changes[nurse_id][key];
            }
            if (jQuery.isEmptyObject(reset_changes[nurse_id])) delete reset_changes[nurse_id];
          }
          
          changes = reset_changes;
          $('#active_cell').removeClass("edited");
        }
        active_cell.removeAttribute('id');
      }

      function highlightSelectedShift(element){
        selected_shift = document.getElementById('selected_shift');
        if (selected_shift) selected_shift.removeAttribute('id');
        element.setAttribute("id", "selected_shift");
      }

      function updateSelectedShift(element){
        if (mode == 'reset') return;
        active_cell = document.getElementById('active_cell');
        nurse_id = active_cell.getAttribute('nurse_id');
        rdate = active_cell.getAttribute('rdate')
        new_shift = document.getElementById('selected_shift').innerHTML
        if (changes[nurse_id]){
          if (changes[nurse_id][rdate] != new_shift){
            changes[nurse_id][rdate] = new_shift
            if(new_shift.length > 11) new_shift = new_shift.substring(0, 9) + '...';
            img = "<img style='float:right;' src='/images/down.png' class='drop_down' onmousedown='showAvailableShifts();'/>"

            active_cell.innerHTML = new_shift + img
            $('#active_cell').removeClass("edited").addClass("edited");
          }
        }
        else{
          changes[nurse_id] = {}
          changes[nurse_id][rdate] = new_shift
          if(new_shift.length > 11) new_shift = new_shift.substring(0, 9) + '...';
          img = "<img style='float:right;' src='/images/down.png' class='drop_down' onmousedown='showAvailableShifts();'/>"
          active_cell.innerHTML = new_shift + img
          $('#active_cell').removeClass("edited").addClass("edited");
        }
      }
      
      function removeElement(id){
        element = document.getElementById(id);
        element.parentNode.removeChild(element)
      }
      
      function showAvailableShifts(){
      var drop_downs = document.getElementsByClassName('drop_down');
      old_zindex_value = $('#shield_two').css('z-index');
      for( var i = 0; i < drop_downs.length; i++ ) {
        drop_downs[i].onclick = function (event) {
          availableShifts();
          $(".shift_options").css({
                            top:event.pageY,
                            left: event.pageX - 185
                          });
            showShieldTwo();
            $('#shield_two').css('z-index', 102);
        };
      }
    }

    function showAvailableShiftsTwo(element){

        element.onclick = function (event) {
          availableShifts();
          $(".shift_options").css({
                            top:event.pageY,
                            left: event.pageX - 185
                          });
            showShieldTwo();
            $('#shield_two').css('z-index', 102);
        };

    }
    
     function setActiveCell(e){
        active_cell = document.getElementById('active_cell');
        if (active_cell) active_cell.removeAttribute('id');
        e.setAttribute("id", "active_cell");
     }

     function deselectActiveCell(){
        active_cell = document.getElementById('active_cell');
        if (active_cell) active_cell.removeAttribute('id');
     }
     
     function resetZindexValues(id, old_value){
      old_value = parseInt(old_value);
      //if (!old_value.match(/NaN/i)){
      $('#' + id).css('z-index', parseInt(old_value));
      //}
     }

     function showShieldOne(){
       if (document.getElementById('shield')){
        document.getElementById('shield').style.display='inline';
        hideShieldTwo();
       }
     }

     function showShieldTwo(){
       if (document.getElementById('shield_two')){
        document.getElementById('shield_two').style.display='inline';
        hideShieldOne();
       }
     }

     function hideShieldOne(){
       if (document.getElementById('shield')){
        document.getElementById('shield').style.display='none';
       }
     }

     function hideShieldTwo(){
       if (document.getElementById('shield_two')){
        document.getElementById('shield_two').style.display='none';
       }
     }

     function hideShield(){
       shield_one = document.getElementById('shield');
       shield_two = document.getElementById('shield_two');
       if (shield_one.style.display.match(/inline/i)){shield_one.style.display='none'};
       if (shield_two.style.display.match(/inline/i)){shield_two.style.display='none'};
     }

    </script>
    <style>

      #save_changes:hover, #cancel_changes:hover{
        background-color: #FFEC8B !important;
        border: none !important;
      }

    .edited{
      background-color: #006400 !important;
      color: white !important;
    }

    .edited:hover{
      background-color: #556B2F !important;
    }
    
    #active_cell{
       background-color: #6495ED;
        color: white;

    }
    
    .edit_data:hover{
        background-color: #6495ED;
        color: white;
        cursor: pointer;
    }
    .shifts_options{
      border-bottom: 1px solid #008B00;
    }

    .shifts_options:hover{
      cursor: pointer;
      background-color: #FF7F24 !important;
    }

    #selected_shift{
      background-color: #FF7F24 !important;
    }
    
    .drop_down img{
      position: absolute;
      left: 10% !important;
    }
    .buttons #save_changes{
      background-color: #F8F8FF;
      border: 1px solid #008B00;
      left: 6.5%;
      padding: 10px 100px;
      position: absolute;
      text-decoration: none;
      top: 14%;
      cursor: pointer;
      border-radius: 5px;
    }

    .buttons #cancel_changes{
      background-color: #F8F8FF;
      border: 1px solid #008B00;
      left: 64%;
      padding: 10px 100px;
      position: absolute;
      text-decoration: none;
      top: 14%;
      cursor: pointer;
      border-radius: 5px;
    }
    
    .roster_shift{
      cursor: pointer;
    }

    .roster_shift:hover{
      background-color: #D1EEEE !important;
      border-radius: 5px;
      border-top: 1px solid black !important;
    }
    
    .nurse_names{
      cursor: pointer;
    }

    .nurse_names:hover{
      background-color: #4682B4 !important;
    }
    
    .roster_header{
      cursor: pointer;
    }
    
    .roster_header:hover{
      background-color: #4682B4;
    }

    #roster_summary_footer{
      background-color: gray;
      height: 50px;
      width: 100%;
      position: absolute;
      width: 100%;
      position: absolute;
      bottom: 0px;
    }

    #main_roster{
      overflow:auto;
      position: absolute;
      z-index: 50;
      width: 98%;
      left: 0.5;
      height: 70%;
      top: 11%;
    }

    #please_wait_menu{
      z-index: 12;
      position: absolute;
      height: 10%;
      width: 90%;
      top: 33%;
      background-color: black;
      left: 5%;
      
      border-radius: 8px;
      border-bottom: 4px solid blue;
      cursor:  progress
    }

    #please_wait_footer{
      background-color: gray;
      height: 50px;
      width: 100%;
      position: absolute;
      width: 100%;
      position: absolute;
      bottom: 0px;
      border-radius: 0 0 8px 8px;
    }
    #roster_prompt_menu{
      z-index: 12;
      position: absolute;
      height: 24%;
      width: 90%;
      top: 33%;
      background-color: black;
      left: 5%;
      border-bottom: 3px solid silver;
      border-radius: 8px;
      border: 2px solid white;
    }

    #roster_prompt_footer{
      background-color: gray;
      height: 50px;
      width: 100%;
      position: absolute;
      width: 100%;
      position: absolute;
      bottom: 0px;
      border-radius: 0 0 8px 8px;
    }
      .view_all_header td{
        border-bottom: 1px solid black;
      }

      .view_all:hover{
        background-color: #F1EDC2;
        cursor: crosshair;
      }
      
      .view_all td{
        border-bottom: 1px solid black;
      }

      #view_all span{
        background-color: #388E8E;
        -moz-border-radius: 5px;
        -webkit-border-radius: 5px;
        border-radius:6px;
        color: #fff;
        font-family: 'Oswald';
        text-decoration: none;
        cursor: pointer;
        position: absolute;
        bottom: 2.5%;
        left: 57.5%;
        padding: 3px 10%;
      }

   #view_all span:hover{
      background: #00868B;
      border-top: 1px solid gray;
    }
      #warning_menu img{
        width: 67%;
      }
      
      #delete_nurse_button span{
         position: absolute;
         border-top: 1px solid #96d1f8;
         background: gray;
         background: -webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#65a9d7));
         background: -webkit-linear-gradient(top, #CD2626, #808080);
         background: -moz-linear-gradient(top, #FF3030, #8B0000);
         background: -ms-linear-gradient(top, #FF3030, #8B0000);
         background: -o-linear-gradient(top, #FF3030, #8B0000);
         padding: 4% 55.2%;
         -moz-border-radius: 15px;
         border-radius: 15px;
         -webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;
         -moz-box-shadow: rgba(0,0,0,1) 0 1px 0;
         box-shadow: rgba(0,0,0,1) 0 1px 0;
         text-shadow: rgba(0,0,0,.4) 0 1px 0;
         color: white;
         font-size: 16px;
         font-family: Georgia, serif;
         cursor: pointer;
      }
      #okay{
        background-color: #FFFFFF;
        border: 1px solid #EDEBEB;
        left: 2%;
        padding: 1.5% 44%;
        position: absolute;
        text-decoration: none;
        top: 14%;
        cursor: pointer;
      }
      #edit_save{
        background-color: #FFFFFF;
        border: 1px solid #EDEBEB;
        cursor: pointer;
        left: 2%;
        padding: 1.3% 18%;
        position: absolute;
        text-decoration: none;
        top: 15%;
      }
      #edit_cancel{
        background-color: #FFFFFF;
        border: 1px solid #EDEBEB;
        cursor: pointer;
        right: 2%;
        padding: 1.3% 18%;
        position: absolute;
        text-decoration: none;
        top: 15%;
      }
      #edit_first_name_menu, #edit_last_name_menu, #edit_gender_menu, #edit_grade_menu, #warning_menu{
        z-index: 13;
        position: absolute;
        height: 32%;
        width: 58%;
        top: 30%;
        background-color: white;
        left: 41%;
        border-bottom: 3px solid silver;
      }
      
      #edit_first_name_header, #edit_last_name_header, #edit_gender_header, #edit_grade_header, #warning_header{
        background-color: gray;
        height: 50px;
        width: 100%;
        position: absolute;
        left: 0%;
        border-bottom: 2px solid black;
      }
      
      #edit_first_name_footer, #edit_last_name_footer, #edit_gender_footer, #edit_grade_footer, #warning_footer{
        background-color: gray;
        height: 50px;
        width: 100%;
        position: absolute;
        width: 100%;
        position: absolute;
        bottom: 0px;
      }
      
      tr.table_row td {
        border-bottom:1pt solid black;
      }
      
      tr.table_row{
        cursor: pointer;
      }

      .active_row{
        background-color: #6495ED !important;
      }

      #found_results_info{
        position: absolute;
        background-color: #2F4F4F;
        border: 1px solid #2F4F4F;
        color: #FFFFFF;
        padding: 0% 5.4%;
        top: 7%;
        width: 29.1%;
      }
      #nurse_details{
        position: absolute;
        left: 41%;
        height: 82%;
        width: 58%;
        top: 10%;
        border: 1px solid #2F4F4F;
      }

      #edit_button span{
         border-top: 1px solid #96d1f8;
         background: gray;
         background: -webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#65a9d7));
         background: -webkit-linear-gradient(top, gray, #808080);
         background: -moz-linear-gradient(top, gray, #65a9d7);
         background: -ms-linear-gradient(top, gray, #65a9d7);
         background: -o-linear-gradient(top, gray, #65a9d7);
         padding: 14% 100%;
         -moz-border-radius: 15px;
         border-radius: 15px;
         -webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;
         -moz-box-shadow: rgba(0,0,0,1) 0 1px 0;
         box-shadow: rgba(0,0,0,1) 0 1px 0;
         text-shadow: rgba(0,0,0,.4) 0 1px 0;
         color: white;
         font-size: 14px;
         font-family: Georgia, serif;
         cursor: pointer;
      }

      #save_edited_button span{
         position: absolute;
         border-top: 1px solid #96d1f8;
         background: gray;
         background: -webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#65a9d7));
         background: -webkit-linear-gradient(top, gray, #808080);
         background: -moz-linear-gradient(top, gray, #65a9d7);
         background: -ms-linear-gradient(top, gray, #65a9d7);
         background: -o-linear-gradient(top, gray, #65a9d7);
         padding: 4% 57.2%;
         -moz-border-radius: 15px;
         border-radius: 15px;
         -webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;
         -moz-box-shadow: rgba(0,0,0,1) 0 1px 0;
         box-shadow: rgba(0,0,0,1) 0 1px 0;
         text-shadow: rgba(0,0,0,.4) 0 1px 0;
         color: white;
         font-size: 16px;
         font-family: Georgia, serif;
         cursor: pointer;
      }

      #header{
        position: absolute;
        top: 5%;
        border-width: 100%;
        -moz-user-select: none;
      }
      #footer{
        position: absolute;
        bottom: 0%;
        height: 43px;
        width: 100%;
        left: 0%;
        background: url("../images/footer.gif") repeat-x scroll center top black;
        padding: 30px 0 0;
      }
      #horizontal_line{
        position: absolute;
        height: 0%;
        left: 0%;
        top: 10%;
        width: 100%;
        border-bottom: 1px solid green;
      }
 
      .app_name{
        font-size: 20px;
        font-weight: bold;
        margin: 0 0 15px;
        padding: 2px 0 10px;
        color: #336699;
        text-indent: 0;
        margin-left: 68%;
        top: 5%;
      }
      body {
        background-color: #82EFFF;
        background-image: url("../images/bg.jpg");
        background-repeat: repeat-x;
        margin: 0;
      }
      #content{
        position: absolute;
        width: 70%;
        clear: both;
        border-left: 2px solid black;
        border-right: 2px solid black;
        margin-left: 15%;
        height: 100%;
        background-color: white;
      }


      #logout{
        position: absolute;
        background: url("../images/four.gif") repeat-x scroll 0 0 #3C3C3C;
        border-radius: 8px 8px 8px 8px;
        color: #FEFEFE;
        display: inline-block;
        font-size: 19px;
        letter-spacing: -1px;
        line-height: 1.5em;
        padding: 9px 20px 11px;
        right: 2%;
        margin-top: -2%;
        z-index: 1;
      }

      #menu{
        -moz-user-select: none;
        margin-top: 1%;
        margin-left: 60%;
      
      }
      #active_tab{
        border-bottom: 4px solid green;
      }
      .roster, .nurses, .users, .settings, .home{
        cursor:  pointer;
        font: smfontall-caps 18px Georgia, sans-serif;

      }

      #inner_content{
        margin-top: 10%;
        margin-left: 10%;
      }

      .icon{
        cursor: pointer;
      }
      .caption{
         cursor: pointer;
      }

      #shield, #shield_two{
      position: absolute;
      background-color: black;
      width: 100%;
      height: 100%;
      left: 0%;
      top: 0%;
      z-index: 10;
      opacity: 0.87;
    }
    #shield_two{
      z-index: 12;
      opacity: 0.20 !Important;
    }

    #create_roster_menu, #create_csv_menu{
      z-index: 11;
      position: absolute;
      height: 44%;
      width: 60%;
      top: 20%;
      background-color: white;
      left: 20%;
      border-bottom: 3px solid silver;
    }

    #create_roster_header, #create_csv_header{
      background-color: gray;
      height: 50px;
      width: 100%;
      position: absolute;
      left: 0%;
      border-bottom: 2px solid black;
    }

    #create_roster_content, #create_csv_content{
      position: absolute;
      z-index: 11;
      top: 30%;
      width: 100%;
    }

    #create_roster_content input{
      border: 1px solid black;
      background: none repeat scroll 0 0 rgba(0, 0, 0, 0);
      font-weight: bold;
      float: left;
      font-family: Arial,Helvetica,sans-serif;
      font-size: 14px;
      line-height: 0.5em;
      margin: 0;
      padding: 5px;
      width: 105.5%;
    }
    
    #create_roster_footer{
      background-color: gray;
      height: 50px;
      width: 100%;
      position: absolute;
      width: 100%;
      position: absolute;
      bottom: 0px;
    }

    #input_label {
      font: 18px Georgia, casans-serif;
    }

    #okay_button{
      background-color: #FFFFFF;
      border: 1px solid #EDEBEB;
      left: 2%;
      padding: 1.5% 14%;
      position: absolute;
      text-decoration: none;
      top: 15%;
      cursor: pointer;
    }
    
    #cancel_button{
      background-color: #FFFFFF;
      border: 1px solid #EDEBEB;
      right: 2%;
      padding: 1.5% 12%;
      position: absolute;
      text-decoration: none;
      top: 15%;
      cursor: pointer;
    }

    .calendar_icon{
      cursor: pointer;
    }

    #create_nurse_menu{
      z-index: 11;
      position: absolute;
      height: 75%;
      width: 90%;
      top: 12%;
      background-color: white;
      left: 5%;
      border-bottom: 3px solid silver;
    }

    #create_nurse_header, #create_user_header{
      background-color: gray;
      height: 50px;
      width: 100%;
      position: absolute;
      left: 0%;
      border-bottom: 2px solid black;
    }

    #create_nurse_content input{
      border: 1px solid black;
      background: none repeat scroll 0 0 rgba(0, 0, 0, 0);
      font-weight: bold;
      float: left;
      font-family: Arial,Helvetica,sans-serif;
      font-size: 14px;
      line-height: 0.5em;
      margin: 0;
      padding: 5px;
      width: 65.5%;
    }

    #create_nurse_footer, #create_user_footer{
      background-color: gray;
      height: 50px;
      width: 100%;
      position: absolute;
      width: 100%;
      position: absolute;
      bottom: 0px;
    }

    #save{
      background-color: #FFFFFF;
      border: 1px solid #EDEBEB;
      left: 2%;
      padding: 1.3% 20%;
      position: absolute;
      text-decoration: none;
      top: 8%;
      cursor: pointer;
    }
    #cancel{
      background-color: #FFFFFF;
      border: 1px solid #EDEBEB;
      right: 2%;
      padding: 1.3% 20%;
      position: absolute;
      text-decoration: none;
      top: 8%;
      cursor: pointer;
    }

    #edit_nurse_menu, #view_nurse_menu{
      position: absolute;
      width: 100%;
      left: 0%;
      top: 10.3%;
      height: 80%;
    }

    #left_div{
      position: absolute;
      width: 40%;
      border-right: 4px solid #FEF0C9;
      background-color: #F1EDC2;
      left: 0%;
      height: 100%;
      
    }

    #search_input{
      height: 2em;
    }

    #clear_image{
      position: absolute;
      left: 72%;
      top: 3.5%;
      cursor: pointer;
    }
    td input{
      /*border: 2px solid #808080;*/
      height: 30px;
      }

      #search_input{
        position: absolute;
        width: 80%;
      }
      
      .fileUpload span{
         border-top: 1px solid #96d1f8;
         background: gray;
         background: -webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#65a9d7));
         background: -webkit-linear-gradient(top, gray, #808080);
         background: -moz-linear-gradient(top, gray, #65a9d7);
         background: -ms-linear-gradient(top, gray, #65a9d7);
         background: -o-linear-gradient(top, gray, #65a9d7);
         padding: 2% 12%;
         -moz-border-radius: 15px;
         border-radius: 15px;
         -webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;
         -moz-box-shadow: rgba(0,0,0,1) 0 1px 0;
         box-shadow: rgba(0,0,0,1) 0 1px 0;
         text-shadow: rgba(0,0,0,.4) 0 1px 0;
         color: white;
         font-size: 12px;
         font-family: Georgia, serif;
         position: absolute;
         left: 76%;
         top: -43%;
         cursor: pointer;

      }
      #upfile{
        border: 0px !important;
        padding: 0px !important;
      }

      select{
        background-color: #FFFFFF;
        border: 1px solid;
        height: 7%;
        line-height: 1em;
        padding-bottom: 4px;
        padding-top: 4px;
        width: 66%;
      }

      #create_user_menu{
        z-index: 11;
        position: absolute;
        height: 75%;
        width: 90%;
        top: 12%;
        background-color: white;
        left: 5%;
        border-bottom: 3px solid silver;
      }

      #save_user{
        background-color: #FFFFFF;
        border: 1px solid #EDEBEB;
        left: 2%;
        padding: 1.3% 20%;
        position: absolute;
        text-decoration: none;
        top: 8%;
        cursor: pointer;
      }

      #cancel_user{
        background-color: #FFFFFF;
        border: 1px solid #EDEBEB;
        right: 2%;
        padding: 1.3% 20%;
        position: absolute;
        text-decoration: none;
        top: 8%;
        cursor: pointer;
      }

      #create_user_content input{
        border: 1px solid black;
        background: none repeat scroll 0 0 rgba(0, 0, 0, 0);
        float: left;
        font-family: Arial,Helvetica,sans-serif;
        font-size: 14px;
        line-height: 0.5em;
        margin: 0;
        padding: 5px;
        width: 65.5%;
      }

      #edit_user_menu{
      position: absolute;
      width: 100%;
      left: 0%;
      top: 10.3%;
      height: 80%;
    }

    #edit_left_div{
      position: absolute;
      width: 40%;
      border-right: 4px solid #FEF0C9;
      background-color: #F1EDC2;
      left: 0%;
      height: 100%;
    }

    #content_header{
      position: absolute;
      height: 20%;
      left: 40.5%;
      top: 0%;
      width: 59.5%;
    }

    #content_header span{
      position: absolute;
      color: white;
      padding: 2% 40%;
      background-color: #7AC5CD;
      font-weight: bold;
      width: 20%;
    }

    #nurse_confirm_menu{
      z-index: 14;
      position: absolute;
      height: 25%;
      width: 33%;
      top: 30%;
      background-color: white;
      left: 35%;
      border-bottom: 3px solid silver;

    }

    #nurse_confirm_header{
      background-color: #838B8B;
      height: 40px;
      width: 100%;
      position: absolute;
      left: 0%;
      border-bottom: 2px solid black;
    }

    #nurse_confirm_content{
      position: absolute;
      top: 30%;
      width: 100%;
    }

    #nurse_confirm_footer{
      background-color: #838B8B;
      height: 40px;
      width: 100%;
      position: absolute;
      width: 100%;
      position: absolute;
      bottom: 0px;
      border-top: 2px solid black;
    }

    #add_nurse{
      background-color: #FFFFFF;
      border: 1px solid #EDEBEB;
      left: 2%;
      padding: 1% 10%;
      position: absolute;
      text-decoration: none;
      top: 14%;
      cursor: pointer;
    }

    #exit{
      background-color: #FFFFFF;
      border: 1px solid #EDEBEB;
      right: 2%;
      padding: 1% 10%;
      position: absolute;
      text-decoration: none;
      top: 14%;
      cursor: pointer;
    }

    </style>
  </head>
  <body onload="loadActiveTab();">
    <div id="shield" style="display: none;">

    </div>
    
    <div id="shield_two" style="display: none;">
    </div>
    <div id="content">
      
      <div id="header">
        <div id="menu">
          <span class="roster" onclick="loadRosterData(this);" onmousedown="setActiveTab(this)">Roster </span>|
          <span class="nurses" onclick="loadNursesData(this)" onmousedown="setActiveTab(this)">Nurses </span>|
          <span class="users" onclick="loadUsersData(this)" onmousedown="setActiveTab(this)">Users </span>|
          <span class="settings" onclick="loadSettingsData(this)" onmousedown="setActiveTab(this)">Settings </span>|
          <span class="home" onclick="loadHomeData(this)" onmousedown="setActiveTab(this)">Home</span>
        </div>
      </div>
      <!--<div class="app_name">
          <span>Nurses Roster System(NRS)</span>
      </div>-->
      <div id="horizontal_line">
      </div>
      <div id="inner_content">
        
      </div>
      <div id="upload" style="display:none;">
        <%= form_tag("process_csv_file", :multipart => true, :id => 'upload_csv') %>      
            <%= file_field_tag'file', :onchange => 'sub(this);'%>
        </form_tag>
      </div>
      <div id="footer">
        <div id="logout">
          <span>logout</span>
        </div>
      </div>
    </div>
  </body>
</html>
